{% include head.html %}
{% include header.html %}

<link rel="stylesheet" href="https://kostat-gi.github.io/site/assets/css/site.css">

<div class="container">
	<!--  {% include components/goal/breadcrumbs.html %}-->
  {% if site.create_goals.previous_next_links %}
    {% include components/previous-next-links.html previous_label=page.t.goal.previous next_label=page.t.goal.next %}
  {% endif %}
</div>

{% include components/goal/header.html %}

<div id="main-content" class="container goal-indicators goal-{{ page.goal.number }} goal-by-target" role="main">
	{% include components/indicator/breadcrumbs.html %}
  {% include components/goal/goal-content.html content=content %}

  <div class="visible-md-block visible-lg-block">
    <div class="col-md-6">
      <h2>{{ page.t.general.targets }}</h2>
    </div>
    <div class="col-md-6">
      <h2>{{ page.t.general.indicators }}</h2>
    </div>
  </div>

  {% assign goal_indicators = page.indicators | where: 'goal_number', page.goal.number | group_by: 'target_number' %}
  {% for group in goal_indicators %}
    {% assign target = group.name | sdg_lookup %}
    <div class="indicator-cards target goal-target col-md-6">
      <span class="indicator-card-number">
        <label class="hidden-md hidden-lg">{{ page.t.general.target }}</label>
        {{ target.number }}
      </span>
      {{ target.name }}
    </div>
    <div class="indicator-cards col-md-6 row no-gutters">
    {% for indicator in group.items %}

      {% assign tag_classes = "" | split: "," %}
      {% if indicator.tags %}
        {% for tag in indicator.tags %}
          {% assign tag_slug = "indicator-" | append: tag | slugify %}
          {% assign tag_classes = tag_classes | push: tag_slug %}
        {% endfor %}
      {% endif %}
      {% assign tag_classes = tag_classes | join: " " %}

      <div class="col-md-12 {{ tag_classes }} goal-indicator">
        <span id="indicator_number{{ indicator.number }}" class="indicator-card-number">
          {{ indicator.number }}
	  <div id="computation_coverage{{ indicator.number }}" class="computation_coverage"><script>printComputationCoverage();</scirpt></div>
          {% include components/reportingstatus/reporting-status-label.html indicator=indicator %}
        </span>
        <a href="{{ indicator.url }}">
          {{ indicator.name }}
        </a>
        {% include components/indicator/tags.html tags=indicator.tags %}
      </div>
    {% endfor %}
    </div>
  {% endfor %}
</div>

{% include footer.html %}

<script>
  function printComputationCoverage() {
    var indicatorNumber = document.getElementById("indicator_number{{ indicator.number }}").innerHTML;
    var indicatorType1 = ["1.1.1", "1.1.2", "1.2.1", "1.2.2", "1.2.3", "2.1.1", "2.1.2", "2.2.1", "2.2.2", "2.2.3", "3.1.1", "3.1.2", "3.1.3", "3.2.1", "3.2.2", "4.1.1", "4.1.2", "4.2.1", "4.2.2", "4.2.3", "4.2.4"];
    var isFind = false;
	
    for (var i = 0; i < indicatorType1.lengh; i++;) {
      if (indicatorNumber.indexOf(indicatorType1[i]) != -1) {
        isFind = true;
        document.getElementById("computation_coverage{{ indicator.number }}").innerHTML = "[지역범위: 권역]";
        break;
      }
    }
  }
</script>
